{% extends 'base.html' %} {% load static %} {% block content %}


<h1 id="Seg_title"></h1>
<div class="card-sm-header">
    <h1>Analytics:</h1>
</div>
<div class="container">

    <div class="row">
        <div class="col-sm-12 col-md-12 col-lg-6">
            <div id='myDiv'>
            </div>
        </div>
        <div class="col-sm-12 col-md-12 col-lg-6">
            <div id='myDiv1'>
            </div>
        </div>
    </div>
</div>

<div class="offerbtn ">
    <form action="send_email " method='post'>
        {% csrf_token %}
        <button type="submit" class="btn btn-primary btn-lg" style="background-color: rgb(42, 11, 71); border:1px solid rgb(42, 11, 71) ">Send Offer</button>
    </form>
</div>





<div style="visibility: hidden; ">
    <h3>Males</h3>
    <h3 id="male ">{{male}}</h3>
    <h3>Females:</h3>
    <h3 id="female ">{{female}}</h3>
    <h3 id="ageplus ">{{age18plus}}</h3>
    <h3 id="ageminus ">{{age18minus}}</h3>


</div>

<script>
    var males = document.getElementById("male ").innerHTML;
    var females = document.getElementById("female ").innerHTML;
    var plus = document.getElementById("ageplus ").innerHTML;
    var minus = document.getElementById("ageminus ").innerHTML;

    var ultimateColors = [
        ['rgb(82, 30, 105)', 'rgb(144, 78, 172);', 'rgb(88, 71, 95)', 'rgb(36, 55, 57)', 'rgb(6, 4, 4)'],
        ['rgb(177, 127, 38)', 'rgb(205, 152, 36)', 'rgb(99, 79, 37)', 'rgb(129, 180, 179)', 'rgb(124, 103, 37)'],
        ['rgb(33, 75, 99)', 'rgb(79, 129, 102)', 'rgb(151, 179, 100)', 'rgb(175, 49, 35)', 'rgb(36, 73, 147)'],
        ['rgb(146, 123, 21)', 'rgb(177, 180, 34)', 'rgb(206, 206, 40)', 'rgb(175, 51, 21)', 'rgb(35, 36, 21)']
    ];

    var data = [{
        values: [males, females],
        labels: ['males', 'females'],
        type: 'pie',
        marker: {
            colors: ultimateColors[0]
        }
    }];
    var layout = {
        height: 400,
        width: 500
    };
    var layout = {
        title: 'Male to Female Distribution'
    }
    var config = {
        responsive: true
    }
    Plotly.newPlot('myDiv', data, layout, config);

    //Bar

    var data = [{
        x: ['21+', '21-'],
        y: [minus, plus],
        type: 'bar',

        marker: {
            color: 'rgb(82, 30, 105)',
        }

    }];
    var layout = {
        title: 'Age Distribution'
    }
    config = {
        responsive: true
    }
    Plotly.newPlot('myDiv1', data, layout, config);
</script>
<!-- <a href="offer ">Offer</a>  -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js "></script>
{% endblock %}